<!DOCTYPE html>
{% extends 'master.html' %}
{% block content %}
<div class="container-fluid newrequests">
<div class="row">
   <div class="row">
   <!--container divided in even right and left columns-->
      <div class="col-md-5">
         <div class="row">
         </div>
         <div class="row index-text">
            <div class="col-md-12">
               <div class="trans">
               <!--div containing of text on page to explain form use-->
                  <p class="index-text"> Using the form is pretty easy.
                     Enter your name, the shop were we should get your purchases, the shopping list and the date by when you would like
                     to have the order delivered. If you need to amend the order use the link above
                  </p>
               </div>
            </div>
         </div>
      </div>
      <div class="col-md-1">
      </div>
      <div class="col-md-5">
      <!--new requests form ,values coming from mongo db via py def new_requests()-->
         <form action="/insert_requests" method="POST" class="new-requests" name="siteform">
            <div class="form-group row">
               <div class="form-group col">
                  <label for="requested_by">Please select your name</label>
                  <!--select field,mongo.db.c_members.find() -->
                  <select class="form-control" id="requested_by" name="requested_by" required>
                     <option value="" disabled selected></option>
                     {% for member in members %}
                     <option value="{{member.username}}">{{member.username}}</option>
                     {% endfor %}
                  </select>
               </div>
            </div>
            <div class="form-group row">
               <div class="form-group col">
                  <label for="foodarea">Please enter your shopping list</label>
                  <textarea class="form-control" id="food" name="food" rows="4" required></textarea>
               </div>
            </div>
            <div class="form-group row">
               <div class="form-group col">
                  <label for="requested_by">Please select the shop for your purchases</label>
                  <!--select field,mongo.db.c_shops.find()-->
                  <select class="form-control" id="shop" name="shop" required>
                     <option value="" disabled selected></option>
                     {% for shop in shops %}
                     <option value="{{shop.shop}}">{{shop.shop}}</option>
                     {% endfor %}
                  </select>
               </div>
            </div>
            <div class="form-group row">   
               <div class="form-group col">
               <!--Boostrap datepicker, thanks to Chris Youderian, https://formden.com/blog/date-picker-->
                  <label class="control-label " for="date">
                  Preferred Shop By Date
                  </label>
                  <div class="input-group">
                     <input class="form-control" id="date" name="date" placeholder="MM/DD/YYYY" type="date" required/>
                  </div>
               </div>
            </div>
            <div class="form-group row">
               <div class="form-group" style="display: none;">
                  <label for="status">Please select the request status</label>
                  <!--select field,mongo.db.c_status.find(), the field is hidden on the form and preopulated as "open"-->
                  <select class="form-control" id="status" name="status" value="open">
                     {% for status in status %}
                     <option value="{{status.status}}">{{status.status}}</option>
                     {% endfor %} 
                  </select>
               </div>
            </div>
            <div class="form-group row">
               <div class="form-group col">
                  <div style="text-align: center;"> 
                     <!--Submit button-->
                     <button  type="submit" class="btn">Submit</button>
                  </div>
               </div>
            </div>
         </form>
      </div>
   </div>
</div>
</div>
{% endblock %}